{
	"Dataverse Security Role Setup": {
		"prefix": "CFC09-pp-security-role-full",
		"body": [
			"# ╔════════════════════════════════════════════════════════════════════════════════════════╗",
			"# ║                 CFC09: Create full security role definition for Dataverse              ║",
			"# ╚════════════════════════════════════════════════════════════════════════════════════════╝",
			"#",
			"# This snippet creates a full structure for defining security roles in Dataverse.",
			"# It includes project initialization, role creation, and privilege assignment.",
			"#",
			"# ──────────────────────────────────────────────────────────────────────────────────────────",
			"# Step 1: Create a new solution project dedicated to security roles.",
			"dotnet new pp-solution `",
			"--output \"src/Solutions.Security\" `",
			"--PublisherName \"tomas\" `",
			"--PublisherPrefix \"tom\" `",
			"--allow-scripts yes",
			"",
			"# ──────────────────────────────────────────────────────────────────────────────────────────",
			"# Step 2: Add the solution project to the Package Deployer project as a .NET ProjectReference item.",
			"pac package add-reference --path ../Solutions.Security/",
			"",
			"# ──────────────────────────────────────────────────────────────────────────────────────────",
			"# Step 3: Create the security roles inside that solution.",
			"",
			"$$WarehouseWorkerId = [guid]::NewGuid()",
			"",
			"dotnet new pp-security-role `",
			"--SolutionRootPath \"src/Solutions.Security/Declarations\" `",
			"--rolename \"Warehouse worker\" `",
			"--roleid $$WarehouseWorkerId `",
			"--allow-scripts yes",
			"",
			"$$WarehouseManagerGuidId = [guid]::NewGuid()",
			"",
			"dotnet new pp-security-role `",
			"--SolutionRootPath \"src/Solutions.Security/Declarations\" `",
			"--rolename \"Warehouse manager\" `",
			"--roleid $$WarehouseManagerGuidId `",
			"--allow-scripts yes",
			"",
			"# ──────────────────────────────────────────────────────────────────────────────────────────",
			"# Step 4: Assign entity privileges to the roles.",
			"# Supported PrivilegeTypes: Create, Read, Write, Delete, Append, AppendTo, Assign, Share",
			"# Supported Levels: None, User, BusinessUnit, ParentChildBusinessUnit, Global",
			"#",
			"# Example below assigns Global Read and User Write to entityName:",
			"",
			"dotnet new pp-security-role-privilege `",
			"--SolutionRootPath \"src/Solutions.Security/Declarations\" `",
			"--rolename \"Warehouse worker\" `",
			"--PrivilegeTypeAndLevel \"[{ PrivilegeType: Read, Level: Global }, { PrivilegeType: Write, Level: Global }]\" `",
			"--entityname \"tom_warehouseitem\" `",
			"--allow-scripts yes",
			"",
			"dotnet new pp-security-role-privilege `",
			"--SolutionRootPath \"src/Solutions.Security/Declarations\" `",
			"--rolename \"Warehouse manager\" `",
			"--PrivilegeTypeAndLevel \"[{ PrivilegeType: Read, Level: Global }, { PrivilegeType: Write, Level: Global }]\" `",
			"--entityname \"tom_warehouseitem\" `",
			"--allow-scripts yes",
			"",
			"dotnet new pp-security-role-privilege `",
			"--SolutionRootPath \"src/Solutions.Security/Declarations\" `",
			"--rolename \"Warehouse worker\" `",
			"--PrivilegeTypeAndLevel \"[{ PrivilegeType: Read, Level: Global }, { PrivilegeType: Write, Level: Basic }]\" `",
			"--entityname \"tom_warehousetransaction\" `",
			"--allow-scripts yes",
			"",
			"dotnet new pp-security-role-privilege `",
			"--SolutionRootPath \"src/Solutions.Security/Declarations\" `",
			"--rolename \"Warehouse manager\" `",
			"--PrivilegeTypeAndLevel \"[{ PrivilegeType: Read, Level: Global }, { PrivilegeType: Write, Level: Global }]\" `",
			"--entityname \"tom_warehousetransaction\" `",
			"--allow-scripts yes"
		]
	}
}
